#
# REQUIRES: INPUT=GDAL OUTPUT=PNG SUPPORTS=WMS

# GetStyles
# RUN_PARMS: sld_get_styles_expressions.xml [MAPSERV] QUERY_STRING="map=[MAPFILE]&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetStyles&LAYERS=main" > [RESULT_DEMIME]

MAP
  NAME "LABEL"
  SIZE 300 300
  IMAGECOLOR 100 100 100
  FONTSET "data/fonts.lst"
  PROJECTION
    "init=epsg:4326"
  END
  WEB
    IMAGEPATH "/tmp/ms_tmp/"
    IMAGEURL "/ms_tmp/"
    METADATA
      "wms_title"            "Test SLD"
      "wms_onlineresource"   "http://localhost/path/to/wms_simple?"
      "wms_srs"              "EPSG:4326"
      "ows_schemas_location" "http://ogc.dmsolutions.ca"
      "ows_enable_request" "*"
      "ows_sld_enabled" "true"
    END
  END

  LAYER
    TYPE POLYGON
    NAME main
    CONNECTIONTYPE OGR
    CONNECTION data/set.json
    STATUS ON
    SIZEUNITS pixels
    CLASS
      NAME green
      EXPRESSION ([N_EDGES] = 6 )
      STYLE
        WIDTH 5
        OUTLINECOLOR 255 255 0
        COLOR 0 255 0
      END
    END
    CLASS
      NAME blue
      EXPRESSION ([NAME] = 'Bretagne' )
      STYLE
        WIDTH 5
        OUTLINECOLOR 255 255 0
        COLOR 0 0 255
      END
    END
    CLASS
      NAME red
      EXPRESSION ([NAME] = 'Bretagne ' )
      STYLE
        WIDTH 5
        OUTLINECOLOR 255 255 0
        COLOR 255 0 0
      END
    END 
  END

END
