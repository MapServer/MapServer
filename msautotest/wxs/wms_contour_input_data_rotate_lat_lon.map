#
#
# Test contouring in EPSG:3857 and EPSG:4326 a raster georeferenced in rotated
# pole lat/lon
#
#

# RUN_PARMS: wms_contour_input_data_rotate_lat_lon_request_3857.png [MAPSERV] QUERY_STRING="map=[MAPFILE]&REQUEST=GetMap&SERVICE=WMS&VERSION=1.3.0&FORMAT=image%2Fpng&STYLES=&LAYERS=sample&WIDTH=400&HEIGHT=200&CRS=EPSG%3A3857&BBOX=-19106576.88229376%2C1389011.8799984828%2C4089954.3853118718%2C13410571.879998483" > [RESULT_DEMIME]

# RUN_PARMS: wms_contour_input_data_rotate_lat_lon_request_4326.png [MAPSERV] QUERY_STRING="map=[MAPFILE]&REQUEST=GetMap&SERVICE=WMS&VERSION=1.3.0&FORMAT=image%2Fpng&STYLES=&LAYERS=sample&WIDTH=400&HEIGHT=200&CRS=EPSG%3A4326&BBOX=0,-180,90,180" > [RESULT_DEMIME]

MAP
    NAME TEST
    IMAGETYPE "PNG"
    EXTENT -180 -90 180 90
    MAXSIZE 16384
    SIZE 500 300
    PROJECTION
        "init=epsg:4326"
    END
    WEB
        METADATA
            "ows_srs" "EPSG:4326 EPSG:3857"
            "ows_enable_request" "*"
            "ows_extent" "-180 -90 180 90"
            "ows_onlineresource" "http://example.com"
        END
    END
    LAYER
        NAME "sample"
        TYPE LINE
        CONNECTIONTYPE CONTOUR
        PROCESSING "CONTOUR_INTERVAL=5"
        PROCESSING "CONTOUR_ITEM=pixel"
        TOLERANCE 25
        TEMPLATE "ttt.html"
        PROJECTION
            "proj=ob_tran"
            "o_proj=longlat"
            "o_lon_p=0"
            "o_lat_p=31.758312"
            "lon_0=-92.402969"
            "R=6371229"
            "no_defs"
        END
        DATA "data/input_contour_rotated_pole.tif"
        METADATA
            "ows_title" "RDPS - Air temperature at 2m above ground (contour) [Â°C]"
            "ows_extent" "-180 -3.8249855 180 90"
        END
        LABELITEM "pixel"
        CLASS
            STYLE
                WIDTH 1
                COLOR 255 0 0
            END
        END

    END
END
