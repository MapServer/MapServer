#
# Test WMS GetfeatureInfo with a raster Int32 layer
#
# REQUIRES: SUPPORTS=WMS
# 
# RUN_PARMS: wms_getfeatureinfo_int32_raster.json [MAPSERV] "QUERY_STRING=map=[MAPFILE]&service=WMS&request=GetFeatureInfo&version=1.3.0&CRS=EPSG:2157&width=200&height=200&layers=int32&bbox=600181.89,628797.70,600191.27,628807.09&query_layers=int32&i=50&j=50&STYLES=&info_format=geojson" > [RESULT_DEMIME]
# RUN_PARMS: wms_getfeatureinfo_float64_raster.json [MAPSERV] "QUERY_STRING=map=[MAPFILE]&service=WMS&request=GetFeatureInfo&version=1.3.0&CRS=EPSG:2157&width=200&height=200&layers=float64&bbox=600181.89,628797.70,600191.27,628807.09&query_layers=float64&i=50&j=50&STYLES=&info_format=geojson" > [RESULT_DEMIME]

MAP

  NAME 'test'
  EXTENT 600029.81 628680.39 600319.81 628905.39
  SIZE 600 600
  IMAGETYPE PNG
  PROJECTION
   "init=epsg:2157"
  END

  WEB
      METADATA
          "ows_enable_request" "*"
          "ows_srs" "EPSG:2157"
          "ows_title" "WMS Getfeatureinfo"
          "wms_getfeatureinfo_formatlist" "geojson"
          "wms_onlineresource" "http://localhost/cgi-bin/mapserv?map=mymap.map"
      END
  END

  OUTPUTFORMAT
      NAME "geojson"
      DRIVER "OGR/GEOJSON"
      MIMETYPE "application/json; subtype=geojson; charset=utf-8"
      FORMATOPTION "FORM=SIMPLE"
      FORMATOPTION "STORAGE=memory"
      FORMATOPTION "LCO:NATIVE_MEDIA_TYPE=application/vnd.geo+json"
      FORMATOPTION "USE_FEATUREID=true"
  END


  LAYER
    NAME "int32"
    STATUS OFF
    TYPE RASTER
    TEMPLATE "blank"
    DATA "data/int32.tif"
    PROJECTION
        "EPSG:2157"
    END
    METADATA
        "gml_include_items" "all"
    END
  END
  
  LAYER
    NAME "float64"
    STATUS OFF
    TYPE RASTER
    TEMPLATE "blank"
    DATA "data/float64.tif"
    PROJECTION
        "EPSG:2157"
    END
    METADATA
        "gml_include_items" "all"
        "gml_value_0_type" "Real"
    END
  END  

END # of map file
